<div class="container photos-page">
    <div class="row">
        <div class="col-md-12" ng-repeat-start="photo in photos | orderByPriority | orderBy:'updated':reverse=true" ng-if="$first">
            <div ng-show="{{ photo.fileMedium != undefined }}">
                <a ng-href="#/photos/{{ photo.$id }}">
                    <img width="100%" src="https://s3-eu-west-1.amazonaws.com/nfolio/{{photo.fileMedium}}" />
                    <!--<img src="http://placehold.it/300x300" />-->
                </a>
            </div>
            <div ng-show="{{ photo.fileMedium == undefined }}" class="alert alert-info">
                Your image files are currently being generated, they will appear here shortly...
            </div>
            <div class="info">
                <a ng-href="#/photos/{{ photo.$id }}">
                    <h3>{{ photo.title }}</h3>
                </a>
                <p class="desc">{{ photo.description }}</p>

                <span>submitted by <a href="#/users/{{ photo.owner }}">{{ photo.owner }}</a> {{ timeAgo(photo.updated) }}</span>
                &mdash;
                <a href="#/photos/{{ photo.$id }}">{{ photo.commentcount }} comments</a>
                <a ng-show="signedIn() && photo.owner === user.username" ng-click="deletePhoto(photoId)">delete</a> | <a ng-show="signedIn() && photo.owner === user.username" ng-click="editPhoto(editId)">delete</a>
            </div>
        </div>
        <div class="col-md-4 col-xs-6 card" ng-repeat-end ng-if="!$first">
            <div ng-show="{{ photo.fileThumb != undefined }}">
                <a ng-href="#/photos/{{ photo.$id }}">
                    <img width="100%" src="https://s3-eu-west-1.amazonaws.com/nfolio/{{photo.fileThumb}}" />
                </a>
            </div>
            <div ng-show="{{ photo.fileMedium == undefined }}" class="alert alert-info">
                Your image files are currently being generated, they will appear here shortly...
            </div>
        </div>
    </div>
</div>
